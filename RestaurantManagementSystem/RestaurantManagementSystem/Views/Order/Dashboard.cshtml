@model OrderDashboardViewModel
@{
    ViewData["Title"] = "Order Dashboard";
}

<div class="container-fluid p-3" style="background: linear-gradient(135deg, #1e293b 0%, #334155 50%, #0f172a 100%); min-height:100vh;">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 style="color: #22d3ee; text-shadow: 0 2px 10px rgba(34,211,238,0.3);">
            <i class="fas fa-utensils me-2"></i>@ViewData["Title"]
        </h1>
        <div class="d-flex align-items-center gap-2">
            <a href="@Url.Action("Form", "Feedback")" class="btn" style="border-radius: 50%; width: 48px; height: 48px; display: inline-flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(34,211,238,.4); background: linear-gradient(135deg, #06b6d4 0%, #22d3ee 100%); color: white; border: none;" target="_blank" rel="noopener noreferrer" title="Open Feedback Form">
                <i class="fas fa-comment-dots"></i>
            </a>
            <a asp-action="Create" class="btn text-white" style="background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%); box-shadow: 0 4px 15px rgba(59,130,246,.4); border: none;" target="_blank" rel="noopener noreferrer">
                <i class="fas fa-plus-circle"></i> New Order
            </a>
        </div>
    </div>

    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            @TempData["SuccessMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    @if (TempData["ErrorMessage"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            @TempData["ErrorMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    @* Compact styling with teal theme *@
    <style>
        .card { border-radius: 8px; }
        .card-header { padding: .5rem .75rem; }
        .card-body { padding: .75rem; }
        table.table { font-size: .9rem; }
        table.table td, table.table th { padding: .4rem .5rem; vertical-align: middle; }
        thead.sticky th { position: sticky; top: 0; z-index: 2; }
        .metric-card .card-body { padding: .6rem .8rem; }
        .metric-card h5 { font-size: .95rem; margin-bottom: .25rem; }
        .metric-card h2 { font-size: 1.6rem; margin: 0; }
        .badge { font-size: .75rem; }
        .btn-group .btn { padding: .2rem .4rem; }
        .table-container { max-height: 28vh; overflow: auto; }
        .food-metric-card { border-left: 4px solid #0d9488; }
    </style>

    @* Metrics row with modern contrasting gradient theme *@
    <div class="row mb-3">
        <div class="col-md-3">
            <div class="card text-white metric-card food-metric-card" style="background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%); box-shadow: 0 8px 20px rgba(59,130,246,.3); border: none;">
                <div class="card-body">
                    <h5 style="opacity: 0.9;">Open Orders</h5>
                    <h2>@Model.OpenOrdersCount</h2>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-white metric-card food-metric-card" style="background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%); box-shadow: 0 8px 20px rgba(245,158,11,.3); border: none;">
                <div class="card-body">
                    <h5 style="opacity: 0.9;">In Progress</h5>
                    <h2>@Model.InProgressOrdersCount</h2>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-white metric-card food-metric-card" style="background: linear-gradient(135deg, #10b981 0%, #06b6d4 100%); box-shadow: 0 8px 20px rgba(16,185,129,.3); border: none;">
                <div class="card-body">
                    <h5 style="opacity: 0.9;">Ready</h5>
                    <h2>@Model.ReadyOrdersCount</h2>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-white metric-card food-metric-card" style="background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%); box-shadow: 0 8px 20px rgba(139,92,246,.3); border: none;">
                <div class="card-body">
                    <h5 style="opacity: 0.9;">Today's Sales</h5>
                    <h2>₹@Model.TotalSales.ToString("F2")</h2>
                </div>
            </div>
        </div>
    </div>

    @* Counter filter (client-side). Defaults to POS-selected counter for this session. *@
    @{
        var counterOptions = ViewBag.CounterOptions as List<Microsoft.AspNetCore.Mvc.Rendering.SelectListItem> ?? new List<Microsoft.AspNetCore.Mvc.Rendering.SelectListItem>();
        var defaultCounterId = 0;
        try { defaultCounterId = (int)(ViewBag.DefaultCounterId ?? 0); } catch { defaultCounterId = 0; }
    }
    <div class="row mb-3">
        <div class="col-12">
            <div class="card" style="background: rgba(255,255,255,0.95); border: none; box-shadow: 0 8px 30px rgba(0,0,0,.15);">
                <div class="card-body d-flex align-items-center justify-content-between flex-wrap" style="gap: .75rem; padding: .75rem;">
                    <div class="d-flex align-items-center" style="gap:.5rem;">
                        <span class="small fw-semibold" style="color:#0f172a;"><i class="fas fa-filter me-1"></i>Counter</span>
                        <select id="counterFilter" class="form-select form-select-sm" style="min-width: 220px;">
                            <option value="">All Counters</option>
                            @foreach (var c in counterOptions)
                            {
                                var isSelected = (!string.IsNullOrWhiteSpace(c.Value) && int.TryParse(c.Value, out var cid) && cid == defaultCounterId);
                                <option value="@c.Value" selected="@(isSelected ? "selected" : null)">@c.Text</option>
                            }
                        </select>
                    </div>
                    <small class="text-muted">Client-side filter (does not change totals)</small>
                </div>
            </div>
        </div>
    </div>

    @* Active Orders *@
    <div class="row">
        <div class="col-12">
            <div class="card" style="background: rgba(255,255,255,0.95); border: none; box-shadow: 0 8px 30px rgba(0,0,0,.15);">
                <div class="card-header d-flex justify-content-between align-items-center" style="background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%); color: white; border: none;">
                    <h5 class="mb-0"><i class="fas fa-clock me-2"></i>Active Orders (All Pending Orders)</h5>
                    <div class="d-flex align-items-center" style="gap:.5rem">
                        <small>Food orders only</small>
                        <span class="badge rounded-pill px-3" style="background: rgba(255,255,255,.2); backdrop-filter: blur(10px); color: white; border: 1px solid rgba(255,255,255,.3);" title="Active orders">@((Model.ActiveOrders?.Count() ?? 0).ToString()) Records</span>
                    </div>
                </div>
                <div class="card-body">
                    @if (Model.ActiveOrders.Any())
                    {
                        <div id="activeOrdersTypeFilter" class="mb-2"></div>
                        <div class="table-responsive table-container">
                            <table class="table table-striped table-hover" id="activeOrders">
                                <thead class="sticky" style="background: linear-gradient(135deg, #1e40af 0%, #06b6d4 100%); color: white;">
                                    <tr class="text-center">
                                        <th>Order #</th>
                                        <th>Type</th>
                                        <th>Counter</th>
                                        <th>Table/Customer</th>
                                        <th>Server</th>
                                        <th>Status</th>
                                        <th>Date</th>
                                        <th>Duration</th>
                                        <th>Items</th>
                                        <th>Total</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var order in Model.ActiveOrders)
                                    {
                                        <tr class="align-middle text-center" data-counter-id="@(order.CounterId?.ToString() ?? "")">
                                            <td><strong>@order.OrderNumber</strong></td>
                                            <td>@order.OrderTypeDisplay</td>
                                            <td>@(string.IsNullOrWhiteSpace(order.CounterDisplay) ? "-" : order.CounterDisplay)</td>
                                            <td>
                                                @if (order.OrderType == 0) // Dine-In
                                                {
                                                    @(order.TableName ?? "No Table")
                                                }
                                                else if (order.OrderType == 4) // Room Service
                                                {
                                                    var roomNo = !string.IsNullOrWhiteSpace(order.RoomNo)
                                                        ? order.RoomNo
                                                        : (order.RoomId.HasValue ? order.RoomId.Value.ToString() : "N/A");
                                                    var guestName = order.GuestName ?? "No Name";
                                                    @($"{roomNo} - {guestName}")
                                                }
                                                else
                                                {
                                                    @(order.GuestName ?? "No Name")
                                                }
                                            </td>
                                            <td>@(order.ServerName ?? "Unassigned")</td>
                                            <td>
                                                @{
                                                    var badgeClass = order.Status switch
                                                    {
                                                        0 => "bg-info",
                                                        1 => "bg-warning text-dark",
                                                        2 => "bg-success",
                                                        _ => "bg-secondary"
                                                    };
                                                }
                                                <span class="badge @badgeClass">@order.StatusDisplay</span>
                                            </td>
                                            <td>@order.CreatedAt.ToString("dd/MM HH:mm")</td>
                                            <td>@order.Duration.ToString(@"hh\:mm")</td>
                                            <td><span class="badge bg-teal-100" style="background-color: #ccfbf1; color: #0d9488;">@order.ItemCount</span></td>
                                            <td><strong>₹@order.TotalAmount.ToString("F2")</strong></td>
                                            <td>
                                                <div class="btn-group">
                                                    <a asp-action="Details" asp-route-id="@order.Id" asp-route-fromBar="false" class="btn btn-sm btn-outline-primary" title="View Order">
                                                        <i class="fas fa-eye"></i>
                                                    </a>
                                                    <a href="/Payment/Index/@order.Id" class="btn btn-sm btn-outline-success" title="Process Payment">
                                                        <i class="fas fa-credit-card"></i>
                                                    </a>
                                                    <button type="button" class="btn btn-sm btn-outline-danger cancel-order-trigger" 
                                                            data-order-id="@order.Id" data-order-number="@order.OrderNumber" title="Cancel Order">
                                                        <i class="fas fa-times-circle"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    }
                    else
                    {
                        <div class="alert alert-info mb-0">
                            <i class="fas fa-info-circle me-2"></i>No active orders at the moment.
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>

    @* Cancelled Orders Section *@
    <div class="row mt-3">
        <div class="col-12">
            <div class="card" style="background: rgba(255,255,255,0.95); border: none; box-shadow: 0 8px 30px rgba(0,0,0,.15);">
                <div class="card-header d-flex justify-content-between align-items-center" style="background: linear-gradient(135deg, #dc2626 0%, #f97316 100%); color: white; border: none;">
                    <h5 class="mb-0"><i class="fas fa-ban me-2"></i>Cancelled Orders</h5>
                    <div class="d-flex align-items-center" style="gap:.5rem">
                        <small>Today's cancelled orders</small>
                        <span class="badge rounded-pill px-3" style="background: rgba(255,255,255,.2); backdrop-filter: blur(10px); color: white; border: 1px solid rgba(255,255,255,.3);" title="Cancelled orders">@((Model.CancelledOrders?.Count() ?? 0).ToString()) Records</span>
                    </div>
                </div>
                <div class="card-body">
                    @if (Model.CancelledOrders != null && Model.CancelledOrders.Any())
                    {
                        <div class="table-responsive table-container">
                            <table class="table table-striped table-hover" id="cancelledOrders">
                                <thead class="sticky" style="background: linear-gradient(135deg, #dc2626 0%, #f97316 100%); color: white;">
                                    <tr class="text-center">
                                        <th>Order #</th>
                                        <th>Type</th>
                                        <th>Counter</th>
                                        <th>Table/Customer</th>
                                        <th>Server</th>
                                        <th>Status</th>
                                        <th>Time</th>
                                        <th>Items</th>
                                        <th>Total</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var order in Model.CancelledOrders)
                                    {
                                        <tr class="align-middle text-center" data-counter-id="@(order.CounterId?.ToString() ?? "")">
                                            <td><strong>@order.OrderNumber</strong></td>
                                            <td>@order.OrderTypeDisplay</td>
                                            <td>@(string.IsNullOrWhiteSpace(order.CounterDisplay) ? "-" : order.CounterDisplay)</td>
                                            <td>
                                                @if (order.OrderType == 0) { @(order.TableName ?? "No Table") }
                                                else { @(order.GuestName ?? "No Name") }
                                            </td>
                                            <td>@(order.ServerName ?? "Unassigned")</td>
                                            <td><span class="badge bg-danger">Cancelled</span></td>
                                            <td>@order.Duration.ToString(@"hh\:mm")</td>
                                            <td><span class="badge bg-danger-subtle text-danger">@order.ItemCount</span></td>
                                            <td><strong>₹@order.TotalAmount.ToString("F2")</strong></td>
                                            <td>
                                                <a asp-action="Details" asp-route-id="@order.Id" asp-route-fromBar="false" class="btn btn-sm btn-outline-secondary" title="View Order">
                                                    <i class="fas fa-eye"></i>
                                                </a>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                        <div class="alert mt-2 mb-0 py-2" style="background-color: #fee2e2; border-color: #dc2626; color: #991b1b;">
                            <strong>Total Cancelled Today:</strong> @Model.CancelledOrdersCount
                        </div>
                    }
                    else
                    {
                        <div class="alert alert-info mb-0">
                            <i class="fas fa-info-circle me-2"></i>No cancelled orders today.
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>

    @* Completed Orders Section *@
    <div class="row mt-3">
        <div class="col-12">
            <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center" style="background: linear-gradient(90deg, #0d9488 60%, #14b8a6 100%); color: white;">
                    <h5 class="mb-0"><i class="fas fa-check-circle me-2"></i>Completed Orders</h5>
                    <form class="d-flex align-items-center" method="get" asp-action="Dashboard" style="gap:.5rem">
                        <label class="small mb-0">From</label>
                        <input type="date" name="fromDate" class="form-control form-control-sm" value="@(ViewContext.HttpContext.Request.Query["fromDate"].ToString())" />
                        <label class="small mb-0">To</label>
                        <input type="date" name="toDate" class="form-control form-control-sm" value="@(ViewContext.HttpContext.Request.Query["toDate"].ToString())" />
                        <button type="submit" class="btn btn-sm btn-light" title="Filter"><i class="fas fa-filter"></i></button>
                        <a href="@Url.Action("Dashboard", "Order")" class="btn btn-sm btn-outline-light" title="Reset"><i class="fas fa-undo"></i></a>
                    </form>
                </div>
                <div class="card-body">
                    @if (Model.CompletedOrders.Any())
                    {
                        <div class="table-responsive table-container">
                            <table class="table table-sm table-striped table-hover" id="completedOrders">
                                <thead class="sticky" style="background: linear-gradient(90deg, #0d9488 60%, #14b8a6 100%); color: white;">
                                    <tr class="text-center">
                                        <th>Order #</th>
                                        <th>Type</th>
                                        <th>Counter</th>
                                        <th>Total</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var order in Model.CompletedOrders)
                                    {
                                        <tr class="align-middle text-center" data-counter-id="@(order.CounterId?.ToString() ?? "")">
                                            <td><strong>@order.OrderNumber</strong></td>
                                            <td>@order.OrderTypeDisplay</td>
                                            <td>@(string.IsNullOrWhiteSpace(order.CounterDisplay) ? "-" : order.CounterDisplay)</td>
                                            <td><strong>₹@order.TotalAmount.ToString("F2")</strong></td>
                                            <td>
                                                <div class="btn-group">
                                                    <a asp-action="Details" asp-route-id="@order.Id" asp-route-fromBar="false" class="btn btn-sm btn-outline-secondary" title="View Order">
                                                        <i class="fas fa-eye"></i>
                                                    </a>
                                                    <a href="/Payment/Index/@order.Id" class="btn btn-sm btn-outline-success" title="Payment">
                                                        <i class="fas fa-credit-card"></i>
                                                    </a>
                                                </div>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                        <div class="alert mt-2 mb-0 py-2" style="background-color: #ccfbf1; border-color: #0d9488; color: #134e4a;">
                            <div class="d-flex justify-content-between align-items-center flex-wrap">
                                <div>
                                    <strong>Total Completed:</strong> @Model.CompletedOrdersCount
                                    <span class="mx-2">|</span>
                                    <strong>Total Sales:</strong> ₹@Model.TotalSales.ToString("F2")
                                </div>
                                <div class="d-flex gap-3">
                                    @{
                                        var dineInCount = Model.CompletedOrders.Count(o => o.OrderType == 0);
                                        var takeoutCount = Model.CompletedOrders.Count(o => o.OrderType == 1);
                                        var deliveryCount = Model.CompletedOrders.Count(o => o.OrderType == 2);
                                    }
                                    <span class="badge" style="background-color: #0d9488; font-size: 0.85rem;">
                                        <i class="fas fa-utensils me-1"></i>Walking: @dineInCount
                                    </span>
                                    <span class="badge" style="background-color: #059669; font-size: 0.85rem;">
                                        <i class="fas fa-shopping-bag me-1"></i>B2C: @takeoutCount
                                    </span>
                                    <span class="badge" style="background-color: #0891b2; font-size: 0.85rem;">
                                        <i class="fas fa-motorcycle me-1"></i>Delivery: @deliveryCount
                                    </span>
                                </div>
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="alert alert-info mb-0">
                            <i class="fas fa-info-circle me-2"></i>No completed orders today.
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            function escapeHtml(value) {
                return (value ?? '').toString().replace(/[&<>"']/g, function (c) {
                    return ({
                        '&': '&amp;',
                        '<': '&lt;',
                        '>': '&gt;',
                        '"': '&quot;',
                        "'": '&#39;'
                    })[c];
                });
            }

            function buildTypeFilter(table, containerSelector, columnIndex, idPrefix) {
                var $container = $(containerSelector);
                if (!$container.length) return;

                var raw = table.column(columnIndex).data().toArray();
                var types = raw
                    .map(function (x) { return (x ?? '').toString().trim(); })
                    .filter(function (x) { return x.length; });

                var unique = Array.from(new Set(types)).sort(function (a, b) { return a.localeCompare(b); });
                if (!unique.length) {
                    $container.hide();
                    return;
                }

                var html = '<div class="d-flex align-items-center flex-wrap" style="gap:.75rem;">'
                    + '<span class="small fw-semibold">Type:</span>'
                    + unique.map(function (t, i) {
                        var id = idPrefix + i;
                        return '<div class="form-check form-check-inline m-0">'
                            + '<input class="form-check-input active-type-filter" type="checkbox" id="' + escapeHtml(id) + '" value="' + escapeHtml(t) + '" checked>'
                            + '<label class="form-check-label small" for="' + escapeHtml(id) + '">' + escapeHtml(t) + '</label>'
                            + '</div>';
                    }).join('')
                    + '</div>';

                $container.html(html);

                function apply() {
                    var selected = $container.find('.active-type-filter:checked').map(function () { return $(this).val(); }).get();
                    if (!selected.length) {
                        table.column(columnIndex).search('', true, false).draw();
                        return;
                    }

                    var escaped = selected.map(function (v) { return $.fn.dataTable.util.escapeRegex(v); });
                    var pattern = '^(' + escaped.join('|') + ')$';
                    table.column(columnIndex).search(pattern, true, false).draw();
                }

                $container.on('change', '.active-type-filter', apply);
                apply();
            }

            var activeTable = $('#activeOrders').DataTable({
                order: [[5, 'desc']],
                paging: false,
                info: false,
                searching: true,
                scrollY: '28vh',
                scrollCollapse: true
            });
            buildTypeFilter(activeTable, '#activeOrdersTypeFilter', 1, 'od_activeType_');
            var cancelledTable = $('#cancelledOrders').DataTable({
                order: [[5, 'desc']],
                paging: false,
                info: false,
                searching: true,
                scrollY: '28vh',
                scrollCollapse: true
            });
            var completedTable = $('#completedOrders').DataTable({
                order: [[0, 'desc']],
                paging: false,
                info: false,
                searching: true,
                scrollY: '28vh',
                scrollCollapse: true
            });

            // Client-side counter filter by CounterId (stored in data-counter-id per row)
            var selectedCounterId = ($('#counterFilter').val() ?? '').toString();

            $.fn.dataTable.ext.search.push(function (settings, data, dataIndex) {
                var tableId = settings?.nTable?.getAttribute('id') || '';
                if (tableId !== 'activeOrders' && tableId !== 'cancelledOrders' && tableId !== 'completedOrders') return true;

                if (!selectedCounterId) return true; // All

                try {
                    var rowNode = settings.aoData[dataIndex].nTr;
                    var rowCounterId = (rowNode?.getAttribute('data-counter-id') || '').toString();
                    return rowCounterId === selectedCounterId;
                } catch {
                    return true;
                }
            });

            function applyCounterFilter() {
                selectedCounterId = ($('#counterFilter').val() ?? '').toString();
                activeTable.draw();
                cancelledTable.draw();
                completedTable.draw();
            }

            $('#counterFilter').on('change', applyCounterFilter);
            // Apply default selected counter on initial load
            applyCounterFilter();

            // Keep dashboard fresh
            setTimeout(function() { location.reload(); }, 120000);
        });
    </script>

    @* Enhance Active Orders table header and details *@
    <script>
        // Tooltips
        document.addEventListener('DOMContentLoaded', function () {
            const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
            tooltipTriggerList.map(function (tooltipTriggerEl) { return new bootstrap.Tooltip(tooltipTriggerEl) })
        });
                // Cancel order modal logic
                document.addEventListener('DOMContentLoaded', function() {
                        const modalEl = document.getElementById('cancelOrderModal');
                        const confirmBtn = document.getElementById('confirmCancelOrderBtn');
                        const orderInfoSpan = document.getElementById('cancelOrderInfo');
                        const hiddenOrderId = document.getElementById('cancelOrderId');
                        const bsModal = new bootstrap.Modal(modalEl);
                        document.querySelectorAll('.cancel-order-trigger').forEach(btn => {
                                btn.addEventListener('click', () => {
                                        const id = btn.getAttribute('data-order-id');
                                        const number = btn.getAttribute('data-order-number');
                                        hiddenOrderId.value = id;
                                        orderInfoSpan.textContent = number;
                                        bsModal.show();
                                });
                        });
                        confirmBtn.addEventListener('click', () => {
                                if (!hiddenOrderId.value) return;
                                // navigate to cancel endpoint
                                window.location.href = `/Order/CancelOrder/${hiddenOrderId.value}`;
                        });
                });
    </script>
}

<!-- Cancel Order Confirmation Modal -->
<div class="modal fade" id="cancelOrderModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title"><i class="fas fa-exclamation-triangle me-2"></i>Confirm Cancellation</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="cancelOrderId" />
                <p class="mb-2">You are about to cancel order: <strong id="cancelOrderInfo"></strong></p>
                <div class="alert alert-warning mb-0 small"><i class="fas fa-info-circle me-1"></i>This action cannot be undone and items will be marked as cancelled.</div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Keep Order</button>
                <button type="button" class="btn btn-danger" id="confirmCancelOrderBtn">Yes, Cancel Order</button>
            </div>
        </div>
    </div>
</div>
